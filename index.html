<html>
<head>
  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.1/dist/aframe-environment-component.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/c-frame/aframe-cursor-teleport@1.5.0/dist/aframe-cursor-teleport-component.min.js"></script>
  <!-- <link rel="stylesheet" type="text/css" href="./styles.css"> -->
  <link rel="stylesheet" type="text/css" href="./styles.css">
  <!-- <script src="../scripts/script.js"></script> -->

</head>




<body>


  <a-scene device-orientation-permission-ui="enabled: false"
  cursor="rayOrigin: mouse">
    <a-assets>
    
    <a-asset-item id="lobby" src="./Models/room_modify.glb"></a-asset-item>
      <img id="welcome" src="./Images/Welcome.png">
      <img id="footprint" src="./Images/footprint-new.png">
      <img id="ring-glow" src="./Images/ringGlow.png">
    </a-assets>

    <a-entity light="type: ambient; color: #FFF; intensity: 20" position="-0.5 3 1"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 1" position="0.6 3 4"></a-entity>

    <a-entity id="light1" light="type: directional; color: #FFF; intensity: 0.2" position="-6 -5 -6" rotation="0 90 0"></a-entity>
    <a-entity id="light2" light="type: directional; color: #FFF; intensity: 0.4" position="-6 -5 -6" rotation="0 90 0"></a-entity>
    <a-entity id="light3" light="type: point; color: #FFF; intensity: 0.4" position="-7 4 -38" rotation="0 90 0"></a-entity>



    <a-entity id="cameraRig" cursor-teleport="cameraRig: #cameraRig; cameraHead: #head; ignoreEntities: .clickable">
      <a-entity id="head" position="0 2 0" camera look-controls="reverseMouseDrag: true" wasd-controls="acceleration:45"></a-entity>
      <a-entity laser-controls="hand: left" raycaster="objects: .clickable; far: 100" line="color: red; opacity: 0.75"
        blink-controls="cameraRig: #cameraRig; teleportOrigin: #head;"></a-entity>
      <a-entity laser-controls="hand: right" raycaster="objects: .clickable" line="color: red; opacity: 0.75"
        blink-controls="cameraRig: #cameraRig; teleportOrigin: #head;"></a-entity>
    </a-entity>


    <a-entity gltf-model="#lobby" scale="2.5 2.5 2.5" position="-17 1 -21" rotation="0 180 0"> 

      
    </a-entity>

    <!-- <a-entity environment="preset: default"></a-entity> -->


  <!-- <a-image src="#footprint" position="-1.17 0 -0.24" rotation="-90 40 0" scale="0.5">
    <a-image src="#footprint" position="-2 0 -1" rotation="0 0 0" scale="0.5"> </a-image>
    <a-image src="#footprint" position="-3 0 -2" rotation="0 10 0" scale="0.5"> </a-image>
  </a-image> -->
  
  <a-image src="#ring-glow" position="-20 0.3 -18.5" rotation="90 0 0" scale="15 15 15"
  class="clickable" 
  id="teleport-ring"
  > </a-image>


    
  </a-scene>



<div class="overlay" id="overlay"></div>

<div class="nav-container">
  <input type="checkbox" id="toggle" checked />
  <label class="button" for="toggle">
    <nav class="nav">
      <ul>
        <li><a href="./index.html"><img src="Images/home-new.png" width="50%">
        <button class="tooltip"> HOME </button>
        </a></li>
        <!-- <li><a href="./room1.html"><img src="Images/menu-new.png" width="50%"></a></li> -->
        <li><a id="studies-button" href="#"><img src="Images/menu-new.png" width="50%">
          <button class="tooltip"> STUDIES </button>
        
        </a> </li>
        <li><a href="#0"><img src="Images/audio.png" width="40%">
          <button class="tooltip"> AUDIO </button>
        </a></li>
      </ul>
    </nav>
  </label>
</div>

<div id="studies-detail" class="studies-info" style="display: none;">
  <h4>EXPLORE OTHER STUDIES</h4>
  <a href="./room1.html" class="study-link">Strength Study</a>
  <a href="./room-body.html" class="study-link">Size and Shape Study</a>
</div>

<div class="container" id="panel-1">
    <img src="Images/umtri.png" class="tutorial">
    <div class="welcome-text">
        Welcome to the University of Michigan Transportation Research Institute! Here you can explore the lab space and find out how biosciences research studies are conducted!
    </div>
    <button class="start-button" onclick="closePanel('panel-1'); closePanel('overlay'); openPanel('infoPanel')"> Enter Space </button>
</div>



<div id="infoPanel" class="flex-container">
  <img class="tutorial" src="./Images/Welcome.png">
  <button class="clickable start-button" onclick="closePanel('infoPanel')"> Try it now </button>
</div>


  


  <script>
    function closePanel(panelId) {
        document.getElementById(panelId).style.display = "none";
    }

    function openPanel(panelId) {
        document.getElementById(panelId).style.display = "flex";
    }

    document.addEventListener('DOMContentLoaded', function() {
      // Get the A-Frame element
      var teleportRing = document.querySelector('#teleport-ring');
  
      // Add an event listener for the 'click' event
      teleportRing.addEventListener('click', function() {
        // Navigate to the new URL
        window.location.href = './room1.html';
      });
    });

    document.addEventListener('DOMContentLoaded', function() {
      var studiesButton = document.getElementById('studies-button'); // The button to toggle the studies detail
      var studiesDetail = document.getElementById('studies-detail'); // The container for the studies links
      
      studiesButton.addEventListener('click', function(event) {
        event.preventDefault(); // Prevent the default anchor action
        var isHidden = studiesDetail.style.display === 'none';
        studiesDetail.style.display = isHidden ? 'block' : 'none';
      });
    });



    </script>

</body>

</html>
